<ion-view view-title="EVENT TAILGATERS">
    <ion-nav-bar class="bar-dark" align-title="center">
        <ion-nav-buttons side="left">
            <button class="button button-icon button-clear ion-arrow-left-c" ng-click="goBack();"></button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button button-icon button-clear ion-share"></button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content class="has-footer">
        <a class="item item-full item-icon-left " ng-click="showInviteFriendPopup()">
            <div style="float:left;"><img src="img/flask_icons/add_new.svg" class="FlaskionIcons"></div>
            <p class="addText">INVITE FRIEND</p>
        </a>
        <div class="list">
            <a ng-repeat="data in myTailgaters" class="item item-avatar item-icon-right">
                <img src="img/default-profilepic.png">
                <h2>{{ data.userName | uppercase}}</h2>
                <span class="badge span_icon"><img src="img/flask_icons/arrow_left.svg"></span>
            </a>
        </div>
        <script id="templates/modal.html" type="text/ng-template">
            <ion-modal-view>
                <ion-header-bar class="bar bar-header bar-positive black-header">
                    <h1 class="title">Invite Friend</h1>
                    <button class="button button-clear button-primary" ng-click="closeInviteFriendPopup()">X</button>
                </ion-header-bar>
                <div class="bar bar-subheader">
                    <div class="row">
                        <div class="col col-90 col-center searchrow">
                            <input type="text" placeholder="Search friend..." class="friendSearch" ng-model="searchContact.searchtext" />
                        </div>
                        <div class="col col-center searchrow">
                            <button class="button button-icon button-clear ion-ios-search" ng-click="filterUserContact(searchContact.searchtext)"></button>
                        </div>
                    </div>
                </div>
                <ion-content class="padding has-subheader">
                    <ion-list>
                        <ion-item ng-repeat="data in userContactList track by $index" class="item-avatar " item="data">
                            <img src="img/default-profilepic.png">
                            <h2>{{ data.fullName | uppercase}}</h2>
                            <p>{{ data.emailAddress}}</p>
                            <button class="button button-clear mini-button badge ext-right" ng-if="!data.connectionRequested && !data.block &&  !data.connected" ng-click="sendFriendRequest(data)">Add Friend </button>
                            <button class="button button-clear mini-button badge ext-right" ng-if="data.connectionRequested" disabled>Request Sent </button>
                            <button class="button button-clear mini-button badge ext-right" ng-if="data.block" ng-click="unBlockUser(data)">Unblock </button>
                            <button class="button button-clear mini-button badge ext-right" ng-if="data.connected" disabled>Friend </button>
                        </ion-item>
                    </ion-list>
                    <ion-infinite-scroll on-infinite="getMoreUserContact(searchContact.searchtext)" distance="10%"></ion-infinite-scroll>
                </ion-content>
            </ion-modal-view>
        </script>
    </ion-content>
</ion-view>