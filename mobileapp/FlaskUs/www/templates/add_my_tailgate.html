<ion-view cache-view="false" view-title="ADD NEW TAILGATE">
    <ion-nav-bar class="bar-dark" align-title="center">
        <ion-nav-back-button>
        </ion-nav-back-button>
    </ion-nav-bar>
    <ion-tabs class="tabs-positive tab_bottom">
        <ion-tab title="Event Details">
            <!-- Tab 1 content -->
            <ion-content overflow-scroll="false" header="true" class='has-header has-subheader'>
                <div class="box">
                    <div class="list add_my_tailgate">
                        <div class="list card">
                            <div class="item item-image">
                                <img src="img/default-profilepic-copy.png" class="profilepicAvatar">
                            </div>
                            <a class="item item-icon-left" href="">
                                Tap to add Profile picture
                            </a>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Tailgate Name</span>
                            <input type="text" placeholder="Tailgate Name" name="TailgateName" class="form-control" ng-model="addTailgateParams.tailgateName" required>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Description:</span>
                            <input type="text" placeholder="Description" name="Description:" class="form-control" ng-model="addTailgateParams.tailgateDescription" required>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Event Name:</span>
                            <input type="text" list="EventNameList" ng-change="LoadSessionData()" id="envtName" placeholder="Event Name" class="form-control" ng-model="addTailgateParams.eventName" required>
                            <datalist id="EventNameList">
                                <select>
                                    <option ng-repeat="data in eventDetails" data_id="{{data.eventId}}" value="{{data.eventName}}">{{data.eventName}}</option>
                                </select>
                            </datalist>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Event Date</span>
                            <input type="text" class="form-control" placeholder="Event Date" ng-model="tailgateDate" name="Eventdate" disabled="disabled" required>
                        </div>
                        <div class="item item-input item-floating-label item-icon-right">
                            <span class="input-label">Start Time</span>
                            <input type="text" placeholder="Start Time" class="form-control" ng-model="selectedtime1" name="StartTime" required ng-click="openTimePicker1();">
                            <i class="icon ion-ios-clock" ng-click="openTimePicker1();"></i>
                        </div>
                        <div class="item item-input item-floating-label item-icon-right">
                            <span class="input-label">End Time</span>
                            <input type="text" placeholder="End Time" class="form-control" ng-model="selectedtime2" name="EndTime" required ng-click="openTimePicker2();">
                            <i class="icon ion-ios-clock" ng-click="openTimePicker2();"></i>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Venmo Account:</span>
                            <input type="email" placeholder="Venmo Account" class="form-control" ng-model="addTailgateParams.venmoAccountId" name="VenmoAccount" required>
                        </div>
                        <div class="item item-input item-floating-label">
                            <span class="input-label">Amount</span>
                            <input type="Number" placeholder="Amount" name="Amount" ng-model="addTailgateParams.amountToPay">
                        </div>
                   </div>
                    <div class="padding" align="center">
                        <button type="submit" nav-clear class="button button-block button-positive sign_in_button" ng-click="addmyTailgate(addTailgateParams);">
                            Save
                        </button>
                        <a nav-clear class="button button-block button-positive sign_in_button" href="#/app/my_tailgate">
                            Cancel
                        </a>
                    </div>
                    </div>
            </ion-content>
        </ion-tab>
        <ion-tab title="Location">
            <!-- Tab 2 content -->
            <ion-content overflow-scroll="false" class="has-header">
                <div  style="margin-top: 44px;">
                    <div style="width:100%;height:100%;" class="add_my_tailgate">
                        <ui-gmap-google-map center='map.center' zoom='map.zoom' events="map.events" aria-label="Google map">
                            <ui-gmap-marker ng-repeat="marker in markers" coords="marker.coords" options="marker.options" events="marker.events" icon="marker.icon" idkey="marker.id">
                                <ui-gmap-window>
                                    <div>{{marker.window.title}}</div>
                                </ui-gmap-window>
                            </ui-gmap-marker>
                        </ui-gmap-google-map>
                    </div>
                 </div>
        </ion-content>
        </ion-tab>
        <ion-tab title="Attendees" ng-if="enableTab.condition" >
            <ion-content overflow-scroll="false"  class="has-header">

                <div class="container" style="margin-top: 44px;">
                    <div class="expandcollapse-item">
                        <div ng-click="active = !active" ng-class="{'expandcollapse-heading-collapsed': active, 'expandcollapse-heading-expanded': !active}">
                            <p>ADD GROUP</p>
                        </div>
                        <div class="slideDown" ng-hide="active">
                            <div class="expand-collapse-content">
                                <div>
                                    <div class="list" style="height:346px;">
                                        <ion-list>
                                            <ion-item ng-repeat="data in allGroups" class="row-no-padding" padding="false">
                                                <a class="row-no-padding" style="text-decoration: none">
                                                    <div class="col col-20">
                                                        <img src="img/default-group-pic.png" class="friendIcon">
                                                    </div>
                                                    <div class="col col-70" style="padding-top: 16px">
                                                        <h3 class="nameText">{{ data.groupName | uppercase}}</h3>
                                                        <p>Created By : {{data.createdBy | uppercase}}</p>
                                                    </div>
                                                    <span class="badge span_icon ext-top">
                                                        <div style="float:left;"><img src="img/flask_icons/add_new.svg" class="FlaskionIcons" ng-click="getusersofGroup(data.groupId)"></div>
                                                    </span>
                                                </a>
                                            </ion-item>
                                        </ion-list>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="expandcollapse-item">
                        <div ng-click="active1 = !active1" ng-class="{'expandcollapse-heading-collapsed': active1, 'expandcollapse-heading-expanded': !active1}">
                            <p>ADD FRIENDS</p>
                        </div>
                        <div class="slideDown" ng-hide="active1">
                            <div class="expand-collapse-content">
                                <div>
                                    <a class="item item-icon-left attendees" ng-click="modal.show()">
                                        <div style="float:left;"><img src="img/flask_icons/add_new.svg" class="FlaskionIcons"></div>
                                        <p class="addText">INVITE FRIEND</p>
                                    </a>
                                    <div class="list">
                                        <ion-list>
                                            <ion-item ng-repeat="data in myTailgaters" class="row-no-padding" padding="false" >
                                                <a class="row-no-padding" style="text-decoration: none">
                                                    <!--href="#/app/my_friendDetail/{{data.userId}}"-->
                                                    <div class="col col-20">
                                                        <img src="img/default-profilepic-copy.png" class="friendIcon">
                                                    </div>
                                                    <div class="col col-70" style="padding-top: 16px">
                                                        <h3 class="nameText">{{ data.userName | uppercase}}</h3>
                                                    </div>
                                                    <span class="badge span_icon ext-top"><img src="img/flask_icons/arrow_left.svg"></span>
                                                </a>
                                                <a class="item" ng-if="myTailgaters.length == 0"> You do not have any friends yet. Please search and add friends </a>
                                            </ion-item>
                                        </ion-list>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ion-content>
        </ion-tab>
        <ion-tab title="Plan Now" ng-if="enableTab.condition">
            <!--FOURTH TAB-->
            <ion-content overflow-scroll="false" class="has-header" >
                <div class="paynow" >
                    <div class="tailgateInfo">
                        <div class="row">
                            <div class="col"><span class="tailgateDescFont">START TIME :</span>{{myTailgate.startTime | date:"h:mma"}}</div>
                            <div class="col"><span class="tailgateDescFont">COST :</span>{{myTailgate.amountToPay | currency}}</div>
                        </div>
                        <div class="row">
                            <div class="col"><div class="tailgateDescFont">EVENT DETAILS</div><span>{{myTailgate.tailgateDescription}}</span></div>
                        </div>
                        <div class="row">
                            <div class="col"><span class="tailgateDescFont">EVENT LOCATION</span><span>{{myeventLocation.mytailgate}}</span></div>
                        </div>
                        <div class="row">
                            <a href="#" class="btnPay">Pay Now</a>
                        </div>
                    </div>
                    <div class="list">
                        <div class="item item-divider plan_now">
                            SUPPLIES LIST
                        </div>
                    </div>
                    <div class="list">
                        <ion-checkbox class="item item-icon-left item-checkbox-right">
                            TICKETS
                        </ion-checkbox>
                        <ion-checkbox class="item item-icon-left item-checkbox-right">
                            PARKING PASS
                        </ion-checkbox>
                        <ion-checkbox class="item item-icon-left item-checkbox-right">
                            CASH/WALLET
                        </ion-checkbox>
                        <ion-checkbox class="item item-icon-left item-checkbox-right">
                            SWEATSHIRT/COAT
                        </ion-checkbox>
                    </div>
                </div>
            </ion-content>
        </ion-tab>
</ion-tabs>
    <script id="templates/modal.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-positive black-header">
                <h1 class="title">Invite Friend</h1>
                <button class="button button-clear button-primary" ng-click="modal.hide()">X</button>
            </ion-header-bar>
            <div class="bar bar-subheader">
                <div class="row">
                    <div class="col col-90 col-center searchrow">
                        <input type="text" placeholder="Search friend..." class="friendSearch" ng-model="searchContact.searchtext" />
                    </div>
                    <div class="col col-center searchrow">
                        <button class="button button-icon button-clear ion-ios-search" ng-click="filterUserContact(searchContact.searchtext)"></button>
                    </div>
                </div>
            </div>
            <ion-content class="has-subheader" overflow-scroll="false">
                <ion-list>
                    <ion-list>
                        <ion-item ng-repeat="data in myFriends " class="item-avatar " item="data">
                            <img src="img/default-profilepic.png">
                            <h2>{{ data.fullName | uppercase}}</h2>
                            <p>{{ data.emailAddress}}</p>
                            <button type="submit" nav-clear class="button button-block button-positive invite_friend" ng-click="addTailgateMembers(data,$index)">
                                Send Invite
                            </button>
                        </ion-item>
                    </ion-list>
                </ion-list>
            </ion-content>
        </ion-modal-view>
    </script>